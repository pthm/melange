---
title: "Melange v0.4.3 - Preview"
date: 2026-01-10
authors:
  - name: pthm
    link: https://github.com/pthm
    image: https://github.com/pthm.png
tags:
  - Release
---

Restructuring the project for language-agnostic use and multi-language client support.

<!--more-->

{{< callout type="warning" >}}
This is a pre-release version intended for experimentation and feedback. It is not ready for production use.
{{< /callout >}}

## What's Next

Version **v0.5.0** will be the final preview release, focusing on internal refactoring and improvements to the SQL generation architecture before the stable **v1.0.0** release.

## Highlights

### Language-Agnostic Restructuring

Major reorganization to support multiple target languages:

- **Go runtime extracted** into a dedicated `melange/` module with minimal dependencies
- **Tooling split** into `pkg/` (public API) and `internal/` (implementation details)
- **Schema package** moved into tooling as a subpackage

This separation keeps the runtime lightweight while allowing the tooling to support code generation for any language.

### Multi-Language Client Generation

New `generate client` CLI subcommand with a pluggable generator registry. This enables generating type-safe authorization clients from your schema for multiple target languages.

### Go-Driven SQL Generation

Refactored SQL generation from text templates to a Go-driven DSL approach. The new `sqlgen` package builds SQL programmatically with typed column references and a feature-driven builder pattern, improving maintainability and correctness.

### CLI Rewrite with Config File Support

The CLI has been rebuilt with Cobra/Viper, adding support for `melange.yaml` configuration files. Common settings like schema path and database URL can now be configured once instead of passed on every command.

### Doctor Command

New `doctor` CLI command for health checks on your authorization infrastructure.

### Automated Releases

GoReleaser integration for automated binary builds and releases.

### Other Improvements

- Simplified schema path configuration (single `schema` option replaces `schema`/`schemas_dir`)
- Fixed exclusion handling for wildcard and complex closure relations
- GitHub Actions test pipeline
- Expanded documentation
